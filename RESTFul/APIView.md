# APIView

- 子类
  - generics包里面
  - GenericAPIView
    - 增加的模型的获取操作
    - get_queryset
    - get_object
      - loopup_field默认是pk
    - get_serializer
    - get_serializer_class
    - get_serializer_context
    - filter_queryset
    - paginztor
    - paginator_queryset
    - get_paginated_response
  - CreateAPIView
    - 创建的类视视图
    - 继承自GenericAPIView
    - 继承自CreateModelMixin
    - 实现了post方进行创建
  - ListAPIView
    - 继承自类的视图
    - 继承自GenericAPIView
    - 继承自ListModelMixin
    - 实现了get
  - RetrieveAPIView
    - 查询单个数据的类视图
    - 继承自GenericAPIView
    - 继承自RetrieveAPIViewModelMixin
    - 实现了get 
  - DestroyAPIView
    - 删除数据的类视图
    - 继承自GenericAPIView
    - 继承自DestroyModelMixin
    - 实现了delete方法
  - UpdateAPIView
    - 更新数据的类视图
    - 继承自GenericAPIView
    - 继承自UpdateModelMixin
    - 实现了put和patch方法
  - ListCreateAPIView
    - 获取列表数据，创建数据
    - 继承自GenericAPIView
    - 继承自ListModelMixin
    - 继承自CreateModelMixin
    - 实现了get,post
  - RetriveUpdateAPIView
    - 获取单个数据，更新单个数据的类视图
    - 继承自GenericAPIView
    - 继承自RetriveAPIView
    - 继承自UpdateAPIView
    - 实现了get和put,patch方法
  - RetrieveDestroyAPIView
    - 获取单个数据查询并且删除的类视图
    - 继承自GenericAPIView
    - 继承自RetrieveAPIView
    - 继承自DestroyAPIView
    - 实现了get,delete方法
  - RetrieveUpdateDestroyAPIView
    - 实现了对单个数据的RUD(删除，查询，修改)操作
    - 继承自GenericAPIView
    - 继承自RetrieveAPIView
    - 继承自UpdateAPIView
    - 继承自DestroyAPIView
    - 实现了get,put,patch,delete
- mixins
  - CreateModelMixin
    - create
    - perform_create
    - get_success_headers
  - ListModelMixin
    - list
      - 查询结果集，添加分页功能，和序列化功能
  - RetrieveAPIViewModelMixin
    - retrieve
      - 查询数据并且获取数据的序列化结果并返回
  - DestroyAPIViewModelMixin
    - destroy
      - 获取单个对象
      - 调用执行删除
      - 返回Response 状态吗204
    - perform_destroy
      - 执行销毁
      - 如果是数据的逻辑删除
        - 自己重写这个perform_destory这个方法，并且完善它
  - UpdateAPIViewModelMixin
    - update
      - 获取对象，合法验证
      - 实现更新
    - per_update
      - 保存
    - partial_update
      - 部分更新，对应的就是patch方法
  - viewsets
    - GenericViewSet
      - 继承自GenericAPIView
      - 继承自ViewSetMixin
    - ViewSetMixin
      - 重写了as_view()方法  
    - ViewSet
      - 继承自APIView
      - 继承自ViewSetMixin
      - 默认啥都不支持，需要自己手动实现
    - ReadOnlyModelViewSet
      - 只读的模型集合
      - 继承自RetrieveModelMixin
      - 继承自ListModelMixin
      - 继承自GenericViewSet
    - ModelViewSet
      - 直接封装所以对象的操作
      - 继承自GenericViewSet
      - 继承自CreateViewSet
      - 继承自RetreveViewSet
      - 继承自.......上面所以单个例子（实现了上面的所有需要的操作）
- 小提示
  - 路由器:router = DefaultRouter()
    - router.register(r"hehehe",GameModelViewSet)
      - 切记不要在router.register中使用正则，不然就会报错什么什么xxx-detail没有的错误
    - 提示ViewSet就是你自己建立的类视图模块了啦
    - 跟路由里面添加一个include(router.urls)就可以了